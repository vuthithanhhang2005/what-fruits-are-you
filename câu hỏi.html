<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Love Quiz - 12 c√¢u</title>

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GRTTDZBH15"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-GRTTDZBH15');
</script>


 <style>
    * { box-sizing: border-box; margin:0; padding:0; font-family: "Segoe UI", Roboto, Arial, sans-serif; }
    html,body { width:100%; height:100%; overflow:hidden; }

    .quiz-container {
      position: relative;
      width: 100%;
      height: 100vh;
      background-size: cover;
      background-position: center;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-image 0.8s ease;
    }

    .progress-bar {
      position: absolute;
      top: 22px;
      left: 0;
      width: 100%;
      height: 6px;
      background: rgba(255,255,255,0.35);
      border-radius: 6px;
      overflow: hidden;
    }
    .progress { height:100%; background:#1f8b57; width:0%; transition: width 400ms ease; }

    .question-box {
      position: relative;
      z-index: 2;
      width: min(880px, 86%);
      padding: 28px;
      border-radius: 18px;
      background: rgba(11, 88, 49, 0.72);
      color: white;
      text-align: center;
      backdrop-filter: blur(6px);
      box-shadow: 0 6px 18px rgba(0,0,0,0.18);
      transition: opacity 300ms ease, transform 300ms ease;
    }
    .question { font-size: 22px; font-weight:700; line-height:1.25; margin-bottom:18px; }

    .answers { display:flex; flex-direction:column; gap:12px; margin-top:6px; }
    .answers button {
      background: rgba(255,255,255,0.95);
      color: #222;
      border: none;
      padding: 12px 16px;
      border-radius: 12px;
      font-size: 16px;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
      transition: transform 160ms ease, background 160ms;
      text-align: left;
    }
    .answers button:hover { transform: translateY(-3px); background: #e7f6eb; }
    .answers button:active { transform: translateY(0); }

    .loading-overlay {
      position: absolute;
      inset: 0;
      z-index: 30;
      display:flex;
      align-items:center;
      justify-content:center;
      background: linear-gradient(to bottom, #c5f2c5, #fff);
      opacity:0;
      transition: opacity 300ms ease;
      pointer-events: none;
      height: 100%;
    }
    .loading-overlay.show { opacity:1; pointer-events:auto; }

    .seed {
      width: 50px;
      height: auto;
      animation: spinGrow 3s ease-in-out forwards;
    }

    @keyframes spinGrow {
      0% { transform: scale(0.8) rotate(0deg); opacity: 0; }
      30% { opacity: 1; }
      100% { transform: scale(1.1) rotate(360deg); opacity: 1; }
    }

    #endScreen {
      position: fixed;
      inset: 0;
      background:linear-gradient(to bottom, #e8f8e8, #fff);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      z-index: 999;
      transition: opacity .6s ease;
      opacity: 0;
      pointer-events: none;
    }
    #endScreen.show {
      opacity: 1;
      pointer-events: auto;
    }
    #endScreen h2 {
      font-size: 1.8rem;
      color: #03784f;
      margin-bottom: 20px;
      font-weight: 700;
    }
    #seeResultBtn {
      background: #03784f;
      color: #fff;
      border: none;
      padding: 14px 24px;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: 700;
      cursor: pointer;
      transition: transform .2s ease, background .2s ease;
    }
    #seeResultBtn:hover {
      background: #03784f;
      transform: scale(1.05);
    }

    @media (max-width:600px) {
      .question { font-size:18px; }
      .answers button { font-size:15px; padding:10px 12px; }
    }

    #music-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 9999;
      background-color: #03784f;
      color: white;
      border: none;
      border-radius: 50%;
      padding: 10px 14px;
      font-size: 20px;
      cursor: pointer;
      display: block;
    }
  </style>
</head>
<body>

  <div class="quiz-container" id="quiz">
    <div class="progress-bar"><div class="progress" id="progress"></div></div>

    <div class="question-box" id="questionBox">
      <div class="question" id="questionText"></div>
      <div class="answers" id="answerButtons"></div>
    </div>

    <div class="loading-overlay" id="loadingOverlay" aria-hidden="true">
      <img src="n·∫£y m·∫ßm.png" alt="Chuy·ªÉn c·∫£nh" class="seed" id="seedImg">
    </div>
  </div>

  <div id="endScreen">
    <img src="wfru.png" alt="nh√¢n v·∫≠t" class="icon" style ="width: 90px; height: auto;">
    <h2>B·∫°n l√† ai trong t√¨nh duy√™n?</h2>
    <button id="seeResultBtn">B·∫•m ƒë·ªÉ nh·∫≠n k·∫øt qu·∫£</button>
  </div>

  <button id="music-toggle">üîä</button>
  <audio id="bgMusic" src="piano.mp3" loop preload="auto"></audio>
  <audio id="clickSound" src="click.mp3" preload="auto"></audio>

  <script>
    const questions = [
      { q: "Khi b·∫°n b·∫Øt ƒë·∫ßu th√≠ch m·ªôt ng∆∞·ªùi, b·∫°n s·∫Ω:", a: ["L√πi l·∫°i m·ªôt b∆∞·ªõc ƒë·ªÉ th·∫•y ng∆∞·ªùi ·∫•y r√µ h∆°n","ƒê·ª£i ch·ªù v√† manifest t√≠n hi·ªáu c·ªßa ƒë·ªëi ph∆∞∆°ng","Ngay l·∫≠p t·ª©c ch·ªß ƒë·ªông l√†m quen","Up story, up note thu h√∫t s·ª± ch√∫ √Ω c·ªßa ƒë·ªëi ph∆∞∆°ng"], bg:"images/background1.png" },
      { q: "B·∫°n nghƒ© v·ªÅ t√¨nh y√™u nh∆∞ th·∫ø n√†o?", a:["T√¨nh y√™u l√† c·∫ßn th·ªùi gian vun ƒë·∫Øp, m∆∞a d·∫ßm th·∫•m l√¢u","T√¨nh y√™u l√† s·ª± l·ª±a ch·ªçn, kh√¥ng ph·∫£i ƒëi·ªÅu b·∫Øt bu·ªôc","Kh√¥ng c√≥ quan ni·ªám c·ª• th·ªÉ v·ªÅ t√¨nh y√™u","T√¨nh y√™u l√† ƒë·ªãnh m·ªánh ta sinh ra d√†nh cho nhau"], bg:"images/background1.png" },
      { q: "ƒêi·ªÅu g√¨ ·ªü crush khi·∫øn b·∫°n b·ªã thu h√∫t nh·∫•t?", a:["C√°ch n√≥i chuy·ªán v√† mindset","√Ånh m·∫Øt v√† c·ª≠ ch·ªâ","N·ª• c∆∞·ªùi v√† s·ª± ng·ªçt ng√†o","S·ª± t·ª± tin v√† nƒÉng l∆∞·ª£ng"], bg:"images/background1.png" },
      { q: "Khi ng∆∞·ªùi y√™u b·∫°n stress, b·∫°n s·∫Ω l√†m g√¨ ƒë·∫ßu ti√™n ƒë·ªÉ gi√∫p ƒë·ª° b·∫°n ·∫•y?", a:["Ph√¢n t√≠ch v√† c·ªë g·∫Øng ƒë∆∞a ra l·ªùi khuy√™n h·ªØu √≠ch gi√∫p ng∆∞·ªùi y√™u","D√†nh cho h·ªç kh√¥ng gian ri√™ng ƒë·ªÉ b√¨nh tƒ©nh v√† gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ c·ªßa h·ªç","Pha tr√≤ vui, t·∫°o ti·∫øng c∆∞·ªùng nh·∫±m k√©o mood ng∆∞·ªùi y√™u l√™n","√îm h·ªç v√†o l√≤ng, an ·ªßi b·∫±ng nh·ªØng l·ªùi ƒë·ªông vi√™n t√¢m t√¨nh"], bg:"images/background2.png" },
      { q: "B·∫°n th√≠ch th·ªÉ hi·ªán t√¨nh c·∫£m qua ph∆∞∆°ng th·ª©c n√†o?", a:["D√†nh cho ƒë·ªëi ph∆∞∆°ng nhi·ªÅu th·ªùi gian b√™n nhau","L√™n k·∫ø ho·∫°ch cho nh·ªØng bu·ªïi h·∫πn h√≤ l√£ng m·∫°n v√† t·∫∑ng qu√† b·∫•t ng·ªù cho ƒë·ªëi ph∆∞∆°ng","H√†nh ƒë·ªông quan t√¢m, chƒÉm s√≥c ƒë·ªëi ph∆∞∆°ng t·ªâ m·ªâ, ch√¢n t√¨nh","Nh·∫Øn g·ª≠i nh·ªØng l·ªùi ng·ªçt ng√†o, d·ªÖ th∆∞∆°ng"], bg:"images/background2.png" },
      { q: "ƒêi·ªÅu khi·∫øn b·∫°n y√™n t√¢m v√† h·∫°nh ph√∫c nh·∫•t trong t√¨nh y√™u?", a:["M·ªôt m·ªëi quan h·ªá ·ªïn ƒë·ªãnh, c√≥ ƒë·ªãnh h∆∞·ªõng r√µ r√†ng cho t∆∞∆°ng lai","C√πng nhau kh√°m ph√°, tr·∫£i nghi·ªám nh·ªØng ƒëi·ªÅu m·ªõi m·∫ª v√† kh√°c bi·ªát","C·∫£m gi√°c ƒë∆∞·ª£c th·∫•u hi·ªÉu v√† l·∫Øng nghe th·∫≠t s·ª± t·ª´ ƒë·ªëi ph∆∞∆°ng.","Lu√¥n ƒë∆∞·ª£c quan t√¢m, h·ªèi han v√† c·∫£m nh·∫≠n s·ª± y√™u th∆∞∆°ng m·ªói ng√†y."], bg:"images/background2.png" },
      { q: "B·∫°n c·∫£m nh·∫≠n vai tr√≤ c·ªßa b·∫°n th∆∞·ªùng l√†:", a:["Ng∆∞·ªùi c√¢n b·∫±ng, v·ª´a c∆∞∆°ng v·ª´a nhu, gi·ªØ s·ª± h√†i h√≤a cho m·ªëi t√¨nh"," Ng∆∞·ªùi lu√¥n l·∫Øng nghe, th·∫•u hi·ªÉu ƒë·ªëi ph∆∞∆°ng","Ng∆∞·ªùi lu√¥n t√¨m ki·∫øm c√°c ho·∫°t ƒë·ªông bonding m·ªõi, t·∫°o th√™m k·ªâ ni·ªám ƒë√°ng nh·ªõ gi·ªØa 2 ng∆∞·ªùi","Ng∆∞·ªùi truy·ªÅn nƒÉng l∆∞·ª£ng t√≠ch c·ª±c, vui v·∫ª cho ƒë·ªëi ph∆∞∆°ng"], bg:"images/background3.png" },
      { q: "Khi m·ªëi quan h·ªá c√≥ m√¢u thu·∫´n, tranh c√£i, b·∫°n s·∫Ω l√† g√¨?", a:["Ph√¢n t√≠ch cho ƒë·ªëi ph∆∞∆°ng v·∫•n ƒë·ªÅ d∆∞·ªõi g√≥c nh√¨n c·ªßa b·∫°n m·ªôt c√°ch logic","Gi·ªØ im l·∫∑ng, ƒë·ª£i ch·ªù ƒë·ªëi ph∆∞∆°ng m·ªü l·ªùi tr∆∞·ªõc","N√≥i th·∫≥ng h·∫øt suy nghƒ©, c·∫£m x√∫c ngay l·∫≠p t·ª©c","ƒê√πa gi·ª°n cho kh√¥ng kh√≠ h·∫° nhi·ªát, hai ng∆∞·ªùi b√¨nh tƒ©nh h∆°n r·ªìi n√≥i chuy·ªán"], bg:"images/background3.png" },
      { q: "B·∫°n ng∆∞·ª°ng m·ªô chuy·ªán t√¨nh nh∆∞ th·∫ø n√†o nh·∫•t?", a:["M·ªëi t√¨nh b·ªÅn l√¢u 10 nƒÉm, 20 nƒÉm... ƒë·∫øn ƒë·∫ßu b·∫°c rƒÉng long","Chuy·ªán t√¨nh s√¢u l·∫Øng, say ƒë·∫Øm, nhi·ªÅu c·∫£m x√∫c","Chuy·ªán t√¨nh n·ªìng nhi·ªát, ch√°y b·ªèng nh∆∞ c·∫£ th·∫ø gi·ªõi ch·ªâ c√≥ ƒë√¥i m√¨nh","M·ªëi t√¨nh m√† c·∫£ hai ng∆∞·ªùi c√πng nhau tr∆∞·ªüng th√†nh, c√πng kh√°m ph√° th·∫ø gi·ªõi"], bg:"images/background3.png" },
      { q: "ƒêi·ªÅu quan tr·ªçng nh·∫•t v·ªõi b·∫°n ƒë·ªÉ x√¢y d·ª±ng m·ªëi t√¨nh l√†", a:["S·ª± ƒë·ªìng h√†nh","Ni·ªÅm vui v√† s·ª± m·ªõi m·∫ª","Chia s·∫ª m·ªçi ƒëi·ªÅu"," S·ª± tin t∆∞·ªüng"], bg:"images/background4.png" },
      { q: "Khi t√¨nh y√™u ƒë√£ b·ªÅn v·ªØng, b·∫°n th∆∞·ªùng:", a:["Kh√¥ng l√†m g√¨ xa l·∫°, gi·ªØ m·ªëi quan h·ªá ·ªïn ƒë·ªãnh, √™m ƒë·ªÅm nh∆∞ m√°i ·∫•m an to√†n","Chia s·∫ª, deeptalk ƒë·ªÉ k·∫øt n·ªëi t√¢m h·ªìn ng√†y c√†ng b·ªÅn ch·∫∑t","Duy tr√¨ ng·ªçt ng√†o, l√£ng m·∫°n nh∆∞ thu·ªü m·ªõi quen","T√¨m v√† t·∫°o b·∫•t ng·ªù, ni·ªÅm vui, l√†m m·ªõi t√¨nh y√™u m·ªói ng√†y"], bg:"images/background4.png" },
      { q: "N·∫øu b·∫°n nh·∫≠n th·∫•y gi·ªØa 2 ng∆∞·ªùi c√≥ kho·∫£ng c√°ch, b·∫°n s·∫Ω:", a:["Th·∫≥ng th·∫Øn n√≥i chuy·ªán, t√¨m hi·ªÉu nguy√™n nh√¢n ƒë·ªÉ gi·∫£i quy·∫øt","T·ª± thay ƒë·ªïi b·∫£n th√¢n ƒë·ªÉ ph√π h·ª£p v·ªõi ng∆∞·ªùi ·∫•y","D√†nh th·ªùi gian quan t√¢m, chƒÉm s√≥c ng∆∞·ªùi y√™u nhi·ªÅu h∆°n","G·ª£i chuy·ªán vui, chuy·ªán m·ªõi ƒë·ªÉ thu h·∫πp s·ª± xa c√°ch"], bg:"images/background4.png" }
    ];

    const quiz = document.getElementById('quiz');
    const questionBox = document.getElementById('questionBox');
    const questionText = document.getElementById('questionText');
    const answerButtons = document.getElementById('answerButtons');
    const progressBar = document.getElementById('progress');
    const loadingOverlay = document.getElementById('loadingOverlay');
    const seedImg = document.getElementById('seedImg');
    const endScreen = document.getElementById('endScreen');
    const seeResultBtn = document.getElementById('seeResultBtn');
    const clickSound = document.getElementById('clickSound');
    const bgMusic = document.getElementById('bgMusic');
    const toggleBtn = document.getElementById('music-toggle');

    let index = 0;
    const TOTAL = questions.length;
    const answers = [];
    const TRANSITION_IMAGES = { 0:"n·∫£y m·∫ßm.png", 3:"m·∫∑t tr·ªùi.png", 6:"hoa.png", 9:"fruit.png" };

    function preloadImage(url) { const img = new Image(); img.src = url; }
    function playClick() { clickSound.currentTime = 0; clickSound.play().catch(()=>{}); }

    function showQuestion(i) {
      const item = questions[i];
      quiz.style.backgroundImage = `url('${item.bg}')`;
      questionText.textContent = item.q;
      answerButtons.innerHTML = '';
      item.a.forEach((txt, idx) => {
        const b = document.createElement('button');
        b.textContent = txt;
        b.onclick = () => {
          playClick();
          answers.push(idx); 
          Array.from(answerButtons.children).forEach(el => el.disabled = true);
          next();
        };
        answerButtons.appendChild(b);
      });
      progressBar.style.width = `${((i + 1) / TOTAL) * 100}%`;
      if (questions[i + 1]) preloadImage(questions[i + 1].bg);
    }

    function showSprout(callback, imgSrc, nextBg = null) {
      if (nextBg) quiz.style.backgroundImage = `url('${nextBg}')`;
      seedImg.src = imgSrc;
      seedImg.style.animation = "none";
      void seedImg.offsetWidth;
      seedImg.style.animation = "spinGrow 3s ease-in-out forwards";
      loadingOverlay.classList.add('show');
      setTimeout(() => {
        loadingOverlay.classList.remove('show');
        callback();
      }, 3500);
    }

    function next() {
      index++;
      if (index >= TOTAL) return showEnd();
      const nextBg = questions[index].bg;
      if (TRANSITION_IMAGES[index]) showSprout(() => showQuestion(index), TRANSITION_IMAGES[index], nextBg);
      else showQuestion(index);
    }

    // ‚úÖ HASH CHU·ªñI C√ÅCH 1
    function getResultFromAnswers() {
      const answerStr = answers.join('');
      let hash = 0;
      for (let i = 0; i < answerStr.length; i++) {
        hash = (hash * 31 + answerStr.charCodeAt(i)) % 1000000007;
      }
      const fruits = ["mangosteen","rambutan","pomegranate","lemon","blueberry","pineapple","strawberry","kiwi"];
      const mod = hash % fruits.length;
      return fruits[mod];
    }

    function showEnd() {
      quiz.style.backgroundImage = `url('images/20.jpg')`;
      questionBox.style.display = "none";
      progressBar.style.width = '100%';
      setTimeout(() => { endScreen.classList.add('show'); }, 600);
    }

    seeResultBtn.onclick = () => {
      playClick();
      const resultType = getResultFromAnswers();
      window.location.href = `k·∫øt qu·∫£.html?type=${resultType}`;
    };

    preloadImage(questions[0].bg);
    showSprout(() => showQuestion(index), "n·∫£y m·∫ßm.png", questions[0].bg);

    // nh·∫°c
    bgMusic.volume = 0.3;
    let started = false;
    function startMusic() {
      if (!started) {
        started = true;
        bgMusic.play().catch(()=>{});
      }
    }
    document.addEventListener("click", startMusic, { once: true });
    document.addEventListener("touchstart", startMusic, { once: true });

    toggleBtn.addEventListener("click", () => {
      playClick();
      if (bgMusic.paused) {
        bgMusic.play();
        toggleBtn.textContent = "üîä";
      } else {
        bgMusic.pause();
        toggleBtn.textContent = "üîá";
      }
    });
  </script>
</body>
</html>
